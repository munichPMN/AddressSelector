!function(n){n.fn.addressSelector=function(e){var a=n.extend({country:"thailand",placeholder:{lv3:"Select lv3",lv4:"Select lv4",lv5:"Select lv5"},language:"th",jsonPath:"",zipCodeField:".zipcode",onInit:null,onChange:null},e);return this.each((function(){var e=n(this),o=e.find(".lv3"),l=e.find(".lv4"),t=e.find(".lv5"),i=e.find(a.zipCodeField);n.ajax({url:a.jsonPath+a.country+".json",dataType:"json",success:function(e){e.sort((function(n,e){return n["name_"+a.language].localeCompare(e["name_"+a.language])})),o.append('<option value="" selected disabled>'+a.placeholder.lv3+"</option>"),l.append('<option value="" selected disabled>'+a.placeholder.lv4+"</option>"),t.append('<option value="" selected disabled>'+a.placeholder.lv5+"</option>"),e.forEach((function(n){o.append('<option value="'+n["name_"+a.language]+'">'+n["name_"+a.language]+"</option>")})),o.change((function(){var o=n(this).val();l.empty().append('<option value="" selected disabled>'+a.placeholder.lv4+"</option>"),e.forEach((function(n){n["name_"+a.language]===o&&(n.lv4.sort((function(n,e){return n["name_"+a.language].localeCompare(e["name_"+a.language])})),n.lv4.forEach((function(n){l.append('<option value="'+n["name_"+a.language]+'">'+n["name_"+a.language]+"</option>")})))})),"function"==typeof a.onChange&&a.onChange("lv3",o)})),l.change((function(){var o=n(this).val();t.empty().append('<option value="" selected disabled>'+a.placeholder.lv5+"</option>"),e.forEach((function(n){n.lv4.forEach((function(n){n["name_"+a.language]===o&&(n.lv5.sort((function(n,e){return n["name_"+a.language].localeCompare(e["name_"+a.language])})),n.lv5.forEach((function(n){t.append('<option value="'+n["name_"+a.language]+'">'+n["name_"+a.language]+"</option>")})))}))})),"function"==typeof a.onChange&&a.onChange("lv4",o)})),t.change((function(){var o=n(this).val();e.forEach((function(n){n.lv4.forEach((function(n){n.lv5.forEach((function(n){n["name_"+a.language]===o&&(i.val(n.zip_code),"function"==typeof a.onChange&&a.onChange("lv5",o))}))}))}))})),"function"==typeof a.onInit&&a.onInit()}})}))}}(jQuery);
